## 人脸生命周期
* 人脸从进入摄像头画面到离开摄像头画面 有一个生命周期
* 人脸生命周期和人脸集合中节点的生命周期是完全匹配的，不然会出问题 例如：
1. 离开模式，人脸未离开 节点就销毁了，导致后面人脸出现被认为是新人脸，重新抓拍，根本问题是 无法区分人脸曾经出现过
2. 人脸已进入，但是人脸节点未创建，相当于丢失了前面的数据

* 人脸抓拍策略（离开模式等）对人脸的生命周期依赖较大
* 每个人有一个id，新人脸 id 重新分配一个id

## 情况
### 瑞为方案
* 新人脸 id 从0开始递增，
* 出现 id 跳变例如：新人脸直接从 4跳至6，后面又出现5，导致无法使用max_id 来判断人脸已出现过

### T01方案
* 新人脸 id 从0开始递增，但是现实不理想，跳变比较大，人数多时，大部分是255

### 进入判断
* 老做法： 记录一个max id，当收到id 大于 max id，则认为是一个新人脸
* 问题：算法板有问题，新id会跳跃，例如：当前 max id为4，新人脸id却为 6，5过段时间才会出现，这样 6出现时，max id被改成 6了，5出现后就不认为是新id，在集合中又找不到，导致5 被丢弃
* 当前处理：使用人脸集合，不在集合就认为是新人脸，因此生命周期需要完全匹配

### 离开判断
* 瑞为方案 需要根据当前帧号减去人脸最后出现帧号大于一定数目，则认为人脸已经离开
* 君正T01方案 则需要根据当前时间戳减去人脸最后出现时间戳大于一定数目，则认为人脸已经离开

1. 问题
* 延时，人脸离开后还需要等待一段时间才能够判断出人脸离开
* T01方案 时间差需要3秒，在人比较多的情况下，同一个id可能会重复出现

## 改进
* 人脸进入没什么问题，主要是人脸离开，最好是算法板将人脸离开事件通知应用，因为算法板知道什么时候人脸离开了，
