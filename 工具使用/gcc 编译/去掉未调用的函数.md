* 编程 使用库经常会有这样的想法：库写的很完善，有很多函数，很多时候只用到了很小部分的函数，不知道未使用的函数是否会编译进程序，编译进去的话，去掉应该可以减少程序大小

## 测试结论
* 不管使用任何优化选项，未使用的函数都会被编译进程序
* ld在链接的时候，是以目标文件(.o)为单位的
* 将c编译成.o文件时是无法确认函数是否会被使用，只有链接时才能知道函数是否被使用
* 嵌入式系统中，对程序尺寸要求高，可以这样做
* 一但使用-Wl,-gc-sections之后，将无法使用gdb调试。也无法使用gprof工具了,只能在release版本使用，可以debug版本不使用
## 方法
* 在编译时，每个c，添加选项：
```
-ffunction-sections -fdata-sections
```
该选项让每个函数和数据独自一段
* 在链接时，添加选项：
```
-Wl,-gc-sections
```
该选项将去除无用的段。
