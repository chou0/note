## 人脸框显示需求分为两部分：

1. 实时流上显示人脸框
2. 上传背景图人脸部分框选人脸

### 实时流上显示人脸框，有两种方案：

1. 播放控件上画人脸框 
2. 设备自己画人脸框  
2.1. canvas 上画框，绑定到 venc 或 vpss  
2.2. 直接操作视频原始数据 yuv420sp，在上面画框

说明：  
当前是采用设备自己画人脸框，canvas 上画框,绑定到vpss

原因：  
1. 播放控件上画框，人脸坐标数据通过网络传输，反应慢（是 bug，没有优化性能）
2. 设备自己画看起来响应迅速（只是看起来）
3. 直接去操作yuv的话，需要阻塞住，每一帧处理完再发出去，性能不够造成画面卡顿
4. 采用canvas画，不能绑定到venc，切换分辨率后，需要重新初始化，vpss分辨率不变

结论：  
当前做法是错误的，应该在播放控件上画框
1. 播放控件性能差 是bug，不是真正的性能差，电脑的性能怎么都比arm 好
2. 设备 canvas 上画，只能画些简单的，不能实现加上人脸id和评分值，his没有api需要自己弄，造成性能不够，加上人脸id和评分值是有必要的，可以用来调试，人脸id是否发生变化，评分值是否超过阈值
3. 在局域网内，网络传输应该不会慢，
4. 控件不需要管分辨率

### 上传背景图人脸部分显示人脸

说明：
1. 上传采用的是FTP 或者 HTTP 以及服务器上传，不经过播放控件，所以不能使用播放控件画人脸框
2. 当前采用在canvas 上画人脸框，绑定到 venc
3. 操作canvas有个问题：叠加到视频流 是自动完成的，不能保证叠加到某一帧，所以会出现有点背景图有框，有的没有，当前是先处理好 画好人脸框，再将frame 送去编码，这样就不会出现
4. 写canvs 动作是 滞后的，所以实时流上显示的 人脸框会滞后于人脸
如果绑定到 vpss，不行 因为 背景图是使用保存在缓存的，从 vpss 中取出来的，框是之前画上去的，如果绑定到 venc 上，是 ok 的，需要 实时播放流 绑定一个 RNG， 缓存处理的 venc 绑定另一个 RNG 分开处理就行
